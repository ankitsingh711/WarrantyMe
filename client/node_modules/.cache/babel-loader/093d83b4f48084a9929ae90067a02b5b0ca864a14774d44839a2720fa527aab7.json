{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\nexport const useAutoSave = (callback, delay = 2000) => {\n  _s();\n  const savedCallback = useRef(callback);\n  const timeoutRef = useRef(null);\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n  const debouncedSave = async () => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n    timeoutRef.current = setTimeout(() => {\n      savedCallback.current();\n    }, delay);\n  };\n  useEffect(() => {\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, []);\n  return debouncedSave;\n};\n_s(useAutoSave, \"fBDyfBB44i6elnEEn+/GFxfh9to=\");","map":{"version":3,"names":["useEffect","useRef","useAutoSave","callback","delay","_s","savedCallback","timeoutRef","current","debouncedSave","clearTimeout","setTimeout"],"sources":["/Users/ankit/WarrantyMe/client/src/hooks/useAutoSave.ts"],"sourcesContent":["import { useEffect, useRef } from 'react';\n\ntype AutoSaveCallback = () => Promise<void>;\n\nexport const useAutoSave = (callback: AutoSaveCallback, delay: number = 2000): AutoSaveCallback => {\n  const savedCallback = useRef<AutoSaveCallback>(callback);\n  const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  const debouncedSave = async (): Promise<void> => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n    timeoutRef.current = setTimeout(() => {\n      savedCallback.current();\n    }, delay);\n  };\n\n  useEffect(() => {\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, []);\n\n  return debouncedSave;\n}; "],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAIzC,OAAO,MAAMC,WAAW,GAAGA,CAACC,QAA0B,EAAEC,KAAa,GAAG,IAAI,KAAuB;EAAAC,EAAA;EACjG,MAAMC,aAAa,GAAGL,MAAM,CAAmBE,QAAQ,CAAC;EACxD,MAAMI,UAAU,GAAGN,MAAM,CAAwB,IAAI,CAAC;EAEtDD,SAAS,CAAC,MAAM;IACdM,aAAa,CAACE,OAAO,GAAGL,QAAQ;EAClC,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAEd,MAAMM,aAAa,GAAG,MAAAA,CAAA,KAA2B;IAC/C,IAAIF,UAAU,CAACC,OAAO,EAAE;MACtBE,YAAY,CAACH,UAAU,CAACC,OAAO,CAAC;IAClC;IACAD,UAAU,CAACC,OAAO,GAAGG,UAAU,CAAC,MAAM;MACpCL,aAAa,CAACE,OAAO,CAAC,CAAC;IACzB,CAAC,EAAEJ,KAAK,CAAC;EACX,CAAC;EAEDJ,SAAS,CAAC,MAAM;IACd,OAAO,MAAM;MACX,IAAIO,UAAU,CAACC,OAAO,EAAE;QACtBE,YAAY,CAACH,UAAU,CAACC,OAAO,CAAC;MAClC;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOC,aAAa;AACtB,CAAC;AAACJ,EAAA,CA1BWH,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}